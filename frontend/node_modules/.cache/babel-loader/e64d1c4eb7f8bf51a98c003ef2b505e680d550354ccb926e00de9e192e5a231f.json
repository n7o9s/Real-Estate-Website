{"ast":null,"code":"import axios from\"axios\";const API_URL=\"http://localhost:5001/api\";const api=axios.create({baseURL:API_URL,withCredentials:true,headers:{\"Content-Type\":\"application/json\"}});export const fetchProperties=async()=>{try{const response=await api.get(\"/properties\");return response.data;}catch(error){console.error(\"Error fetching properties:\",error);return[];}};export const fetchPropertyById=async id=>{try{const response=await api.get(`/properties/${id}`);return response.data;}catch(error){console.error(\"Error fetching property details:\",error);return null;}};export const signup=async userData=>{try{console.log(\"ðŸ“¡ Sending signup request:\",userData);const response=await api.post(\"/auth/signup\",userData);console.log(\"âœ… Signup successful, received response:\",response.data);return response.data;}catch(error){var _error$response,_error$response2,_error$response2$data;console.error(\"ðŸš¨ Signup Error:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error);return{error:((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||\"Signup failed\"};}};export const login=async credentials=>{try{console.log(\"ðŸ“¡ Sending login request:\",credentials);const response=await api.post(\"/auth/login\",credentials);console.log(\"âœ… Login successful, received response:\",response.data);return response.data;}catch(error){var _error$response3,_error$response4,_error$response4$data;console.error(\"ðŸš¨ Error logging in:\",((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error);return{error:((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||\"Login failed\"};}};export const fetchUser=async token=>{try{const response=await api.get(\"/auth/me\",{headers:{Authorization:`Bearer ${token}`}});return response.data;}catch(error){console.error(\"Error fetching user:\",error);return null;}};// logout\nexport const logout=async()=>{try{await api.post(\"/auth/logout\");localStorage.removeItem(\"token\");}catch(error){console.error(\"Error logging out:\",error);}};","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","withCredentials","headers","fetchProperties","response","get","data","error","console","fetchPropertyById","id","signup","userData","log","post","_error$response","_error$response2","_error$response2$data","login","credentials","_error$response3","_error$response4","_error$response4$data","fetchUser","token","Authorization","logout","localStorage","removeItem"],"sources":["/Users/a79/Downloads/my-real-estate-project/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:5001/api\";\n\n\nconst api = axios.create({\n    baseURL: API_URL,\n    withCredentials: true,\n    headers: { \"Content-Type\": \"application/json\" }\n});\n\nexport const fetchProperties = async () => {\n    try {\n        const response = await api.get(\"/properties\");\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching properties:\", error);\n        return [];\n    }\n};\n\nexport const fetchPropertyById = async (id) => {\n    try {\n        const response = await api.get(`/properties/${id}`);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching property details:\", error);\n        return null;\n    }\n};\n\n\nexport const signup = async (userData) => {\n    try {\n        console.log(\"ðŸ“¡ Sending signup request:\", userData);\n        const response = await api.post(\"/auth/signup\", userData);\n        console.log(\"âœ… Signup successful, received response:\", response.data);\n        return response.data;\n    } catch (error) {\n        console.error(\"ðŸš¨ Signup Error:\", error.response?.data || error);\n        return { error: error.response?.data?.error || \"Signup failed\" };\n    }\n};\n\n\nexport const login = async (credentials) => {\n    try {\n        console.log(\"ðŸ“¡ Sending login request:\", credentials);\n        const response = await api.post(\"/auth/login\", credentials);\n        console.log(\"âœ… Login successful, received response:\", response.data);\n        return response.data;\n    } catch (error) {\n        console.error(\"ðŸš¨ Error logging in:\", error.response?.data || error);\n        return { error: error.response?.data?.error || \"Login failed\" };\n    }\n};\n\n\nexport const fetchUser = async (token) => {\n    try {\n        const response = await api.get(\"/auth/me\", {\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching user:\", error);\n        return null;\n    }\n};\n\n// logout\nexport const logout = async () => {\n    try {\n        await api.post(\"/auth/logout\");\n        localStorage.removeItem(\"token\");\n    } catch (error) {\n        console.error(\"Error logging out:\", error);\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}