{"ast":null,"code":"import React,{useEffect,useState,useContext}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import AuthContext from\"../context/AuthContext\";import\"../styles/PropertyDetails.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"http://localhost:5001/api/properties\";const PropertyDetails=()=>{const{id}=useParams();const{user}=useContext(AuthContext);const[property,setProperty]=useState(null);const[loading,setLoading]=useState(true);const[message,setMessage]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");useEffect(()=>{const fetchPropertyDetails=async()=>{try{const response=await axios.get(`${API_URL}/${id}`);setProperty(response.data);}catch(error){console.error(\"Error fetching property details:\",error);}finally{setLoading(false);}};fetchPropertyDetails();},[id]);const handleInquirySubmit=async e=>{e.preventDefault();if(!user){setErrorMessage(\"You must be logged in to send an inquiry.\");return;}try{await axios.post(`${API_URL}/${id}/inquiry`,{message},{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}});setSuccessMessage(\"Inquiry sent successfully!\");setErrorMessage(\"\");setMessage(\"\");}catch(error){setErrorMessage(\"Failed to send inquiry.\");setSuccessMessage(\"\");}};if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"loading\",children:\"Loading property details...\"});if(!property)return/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:\"Property not found.\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"property-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:property.title}),/*#__PURE__*/_jsx(\"img\",{src:property.image||\"/assets/default-house.jpg\",alt:property.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"property-price\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCB0 Price:\"}),\" $\",property.price.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"property-location\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCCD Location:\"}),\" \",property.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"property-features\",children:[\"\\uD83D\\uDECF \",property.bedrooms,\" Beds | \\uD83D\\uDEC1 \",property.bathrooms,\" Baths\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"property-description\",children:property.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"inquiry-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Send an Inquiry\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleInquirySubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Ask a question about this property...\",value:message,onChange:e=>setMessage(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"contact-btn\",children:\"Send Inquiry\"})]}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-text\",children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:errorMessage})]})]});};export default PropertyDetails;","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","axios","AuthContext","jsx","_jsx","jsxs","_jsxs","API_URL","PropertyDetails","id","user","property","setProperty","loading","setLoading","message","setMessage","successMessage","setSuccessMessage","errorMessage","setErrorMessage","fetchPropertyDetails","response","get","data","error","console","handleInquirySubmit","e","preventDefault","post","headers","Authorization","localStorage","getItem","className","children","title","src","image","alt","price","toLocaleString","location","bedrooms","bathrooms","description","onSubmit","placeholder","value","onChange","target","required","type"],"sources":["/Users/a79/Downloads/my-real-estate-project/frontend/src/pages/PropertyDetails.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport AuthContext from \"../context/AuthContext\";\nimport \"../styles/PropertyDetails.css\";\n\nconst API_URL = \"http://localhost:5001/api/properties\";\n\nconst PropertyDetails = () => {\n    const { id } = useParams();\n    const { user } = useContext(AuthContext);\n    const [property, setProperty] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [message, setMessage] = useState(\"\");\n    const [successMessage, setSuccessMessage] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(\"\");\n\n    useEffect(() => {\n        const fetchPropertyDetails = async () => {\n            try {\n                const response = await axios.get(`${API_URL}/${id}`);\n                setProperty(response.data);\n            } catch (error) {\n                console.error(\"Error fetching property details:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchPropertyDetails();\n    }, [id]);\n\n    const handleInquirySubmit = async (e) => {\n        e.preventDefault();\n        if (!user) {\n            setErrorMessage(\"You must be logged in to send an inquiry.\");\n            return;\n        }\n\n        try {\n            await axios.post(`${API_URL}/${id}/inquiry`, { message }, {\n                headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n            });\n\n            setSuccessMessage(\"Inquiry sent successfully!\");\n            setErrorMessage(\"\");\n            setMessage(\"\");\n        } catch (error) {\n            setErrorMessage(\"Failed to send inquiry.\");\n            setSuccessMessage(\"\");\n        }\n    };\n\n    if (loading) return <p className=\"loading\">Loading property details...</p>;\n    if (!property) return <p className=\"error-text\">Property not found.</p>;\n\n    return (\n        <div className=\"property-details\">\n            <h2>{property.title}</h2>\n            <img src={property.image || \"/assets/default-house.jpg\"} alt={property.title} />\n            <p className=\"property-price\"><strong>üí∞ Price:</strong> ${property.price.toLocaleString()}</p>\n            <p className=\"property-location\"><strong>üìç Location:</strong> {property.location}</p>\n            <p className=\"property-features\">üõè {property.bedrooms} Beds | üõÅ {property.bathrooms} Baths</p>\n            <p className=\"property-description\">{property.description}</p>\n\n            {/* Inquiry Form */}\n            <div className=\"inquiry-form\">\n                <h3>Send an Inquiry</h3>\n                <form onSubmit={handleInquirySubmit}>\n                    <textarea\n                        placeholder=\"Ask a question about this property...\"\n                        value={message}\n                        onChange={(e) => setMessage(e.target.value)}\n                        required\n                    />\n                    <button type=\"submit\" className=\"contact-btn\">Send Inquiry</button>\n                </form>\n                {successMessage && <p className=\"success-text\">{successMessage}</p>}\n                {errorMessage && <p className=\"error-text\">{errorMessage}</p>}\n            </div>\n        </div>\n    );\n};\n\nexport default PropertyDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}